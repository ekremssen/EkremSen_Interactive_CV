<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Ekrem ≈ûen ‚Ä¢ Etkile≈üimli CV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
    body {
      background: radial-gradient(circle at top, #020617 0, #020010 40%, #000 100%);
      color: #f9fafb;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      transition: background 0.25s ease, color 0.25s ease;
    }
    body.light-mode {
      background: #e5e7eb;
      color: #020617;
    }
    body.xr-mode {
      background:
        radial-gradient(circle at top, #020617 0, #0b1020 25%, #020617 60%, #000 100%),
        radial-gradient(circle at bottom left, rgba(59,130,246,0.4), transparent 55%),
        radial-gradient(circle at top right, rgba(34,197,94,0.35), transparent 60%);
    }
    .app-wrapper {
      background: radial-gradient(circle at top left, #020617, #020016 60%, #020617 100%);
      border-radius: 24px;
      box-shadow: 0 24px 60px rgba(0, 0, 0, 0.8);
      max-width: 1180px;
      width: 100%;
      display: grid;
      grid-template-columns: minmax(0, 3.2fr) minmax(0, 2fr);
      overflow: hidden;
      border: 1px solid rgba(148, 163, 184, 0.45);
      position: relative;
    }
    body.light-mode .app-wrapper {
      background: radial-gradient(circle at top left, #ffffff, #e5e7eb);
      border-color: rgba(148, 163, 184, 0.7);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.25);
    }
    @media (max-width: 900px) {
      .app-wrapper {
        grid-template-columns: 1fr;
      }
    }
    .left-panel {
      padding: 24px 28px 20px;
      border-right: 1px solid rgba(51, 65, 85, 0.9);
      display: flex;
      flex-direction: column;
      gap: 16px;
      backdrop-filter: blur(18px);
      position: relative;
    }
    body.light-mode .left-panel {
      border-right-color: rgba(209, 213, 219, 0.9);
    }
    @media (max-width: 900px) {
      .left-panel {
        border-right: none;
        border-bottom: 1px solid rgba(51, 65, 85, 0.9);
      }
      body.light-mode .left-panel {
        border-bottom-color: rgba(209, 213, 219, 0.9);
      }
    }
    .right-panel {
      padding: 22px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      background: radial-gradient(circle at top right, rgba(56, 189, 248, 0.24), transparent);
      backdrop-filter: blur(18px);
    }
    body.light-mode .right-panel {
      background: radial-gradient(circle at top right, rgba(59, 130, 246, 0.18), #e5e7eb);
    }

    /* Avatar */
    .header-row {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .avatar-wrapper {
      position: relative;
      width: 90px;
      height: 90px;
      display: flex;
      align-items: center;
      justify-content: center;
      perspective: 800px;
    }
    .avatar-orbit {
      position: absolute;
      inset: -10px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 20% 0%, rgba(56, 189, 248, 0.7), transparent 60%),
        radial-gradient(circle at 80% 100%, rgba(34, 197, 94, 0.6), transparent 60%),
        radial-gradient(circle at 0% 100%, rgba(168, 85, 247, 0.5), transparent 55%);
      filter: blur(10px);
      opacity: 0.9;
      animation: orbitGlow 14s linear infinite;
      transform-origin: center;
    }
    .avatar-orbit::after {
      content: "";
      position: absolute;
      inset: 12px;
      border-radius: inherit;
      border: 1px solid rgba(148, 163, 184, 0.7);
      box-shadow:
        0 0 18px rgba(56, 189, 248, 0.9),
        0 0 32px rgba(34, 197, 94, 0.7),
        inset 0 0 20px rgba(15, 23, 42, 0.95);
    }
    .avatar-disc {
      position: absolute;
      inset: -4px;
      border-radius: 999px;
      background: conic-gradient(from 220deg, #38bdf8, #22c55e, #a855f7, #38bdf8);
      opacity: 0.9;
      filter: blur(4px);
      mix-blend-mode: screen;
      animation: discSpin 16s linear infinite;
    }
    .avatar {
      width: 74px;
      height: 74px;
      border-radius: 50%;
      overflow: hidden;
      border: 2px solid rgba(248, 250, 252, 0.95);
      box-shadow:
        0 12px 28px rgba(15, 23, 42, 0.9),
        0 0 26px rgba(56, 189, 248, 1);
      flex-shrink: 0;
      position: relative;
      z-index: 2;
      background: radial-gradient(circle at 30% 0%, #f9fafb, #111827);
      transform-style: preserve-3d;
      transform: translateZ(0);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .avatar img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .avatar::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: radial-gradient(circle at 20% 0%, rgba(255, 255, 255, 0.45), transparent 55%);
      mix-blend-mode: screen;
      pointer-events: none;
    }
    .avatar-speaking {
      animation: speakingPulse 0.9s ease-in-out infinite;
    }
    @keyframes orbitGlow {
      0% { transform: rotate3d(0, 1, 0, 0deg); }
      50% { transform: rotate3d(0.1, 1, 0, 180deg); }
      100% { transform: rotate3d(0, 1, 0, 360deg); }
    }
    @keyframes discSpin {
      0% { transform: rotate(0deg) scale(1); }
      100% { transform: rotate(360deg) scale(1); }
    }
    @keyframes speakingPulse {
      0% {
        transform: translateZ(0) scale(1);
        box-shadow:
          0 12px 28px rgba(15, 23, 42, 0.9),
          0 0 26px rgba(56, 189, 248, 1);
      }
      50% {
        transform: translateZ(20px) scale(1.06);
        box-shadow:
          0 18px 36px rgba(15, 23, 42, 0.95),
          0 0 38px rgba(56, 189, 248, 1),
          0 0 44px rgba(34, 197, 94, 0.9);
      }
      100% {
        transform: translateZ(0) scale(1);
        box-shadow:
          0 12px 28px rgba(15, 23, 42, 0.9),
          0 0 26px rgba(56, 189, 248, 1);
      }
    }

    /* Headline */
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.7);
    }
    body.light-mode .badge {
      background: rgba(243, 244, 246, 0.98);
      color: #111827;
      border-color: rgba(148, 163, 184, 1);
    }
    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #22c55e;
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.9);
    }
    h1 {
      font-size: 26px;
      line-height: 1.2;
      margin-top: 4px;
    }
    h1 span.highlight {
      background: linear-gradient(135deg, #38bdf8, #22c55e);
      -webkit-background-clip: text;
      color: transparent;
    }
    .subtitle {
      font-size: 13px;
      color: #e5e7eb;
      opacity: 0.9;
      margin-top: 4px;
    }
    body.light-mode .subtitle {
      color: #374151;
    }
    .question {
      margin-top: 10px;
      font-size: 14px;
      color: #cbd5f5;
    }
    body.light-mode .question {
      color: #111827;
    }
    .pill-row {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .pill {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.6);
      color: #e5e7eb;
      white-space: nowrap;
      backdrop-filter: blur(12px);
    }
    body.light-mode .pill {
      background: rgba(249, 250, 251, 0.96);
      color: #111827;
    }
    .links-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 6px;
      font-size: 11px;
    }
    .links-row a {
      color: #93c5fd;
      text-decoration: none;
      position: relative;
    }
    body.light-mode .links-row a {
      color: #1d4ed8;
    }
    .links-row a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -2px;
      width: 0;
      height: 1px;
      background: linear-gradient(90deg, #38bdf8, #22c55e);
      transition: width 0.18s ease;
    }
    .links-row a:hover::after {
      width: 100%;
    }

    /* Modes & toggles */
    .mode-row {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      justify-content: space-between;
    }
    .modes {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }
    .mode-chip {
  font-size: 11px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(75, 85, 99, 0.9);
  background: rgba(15, 23, 42, 0.9);
  cursor: pointer;
  opacity: 1;              /* 0.85 yerine 1 */
  color: #e5e7eb;          /* yazƒ± rengini a√ß */
}

.mode-chip.active {
  background: linear-gradient(135deg, #22c55e, #38bdf8);
  color: #020617;
  border-color: transparent;
  font-weight: 600;
}

body.light-mode .mode-chip {
  background: rgba(243, 244, 246, 0.98);
  border-color: rgba(148, 163, 184, 1);
  color: #111827;
}
    .toggle-row {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .toggle-btn {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.9);
  padding: 5px 10px;
  font-size: 11px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  cursor: pointer;
  background: #020617;
  color: #e5e7eb;              /* metni aydƒ±nlat */
}
.toggle-btn.small {
  font-size: 11px;
  padding: 5px 10px;
}
.toggle-btn.active {
  border-color: #22c55e;
  box-shadow: 0 0 10px rgba(34, 197, 94, 0.7);
  background: #022c22;
}
body.light-mode .toggle-btn {
  background: #f3f4f6;
  color: #111827;
  border-color: #d1d5db;
}

    /* Chat */
    .chat-box {
      margin-top: 14px;
      border-radius: 16px;
      background: rgba(15, 23, 42, 0.96);
      border: 1px solid rgba(51, 65, 85, 0.9);
      display: flex;
      flex-direction: column;
      height: 360px;
      overflow: hidden;
      position: relative;
    }
    body.light-mode .chat-box {
      background: rgba(249, 250, 251, 0.98);
      border-color: rgba(209, 213, 219, 1);
    }
    .chat-messages {
      padding: 14px 16px;
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
      scroll-behavior: smooth;
    }
    .msg {
      max-width: 100%;
      font-size: 13px;
      line-height: 1.5;
      padding: 10px 12px;
      border-radius: 12px;
      white-space: pre-line;
      position: relative;
    }
    .msg-user {
      align-self: flex-end;
      background: linear-gradient(135deg, #1d4ed8, #38bdf8);
      color: white;
      border-bottom-right-radius: 4px;
    }
    .msg-ai {
      align-self: flex-start;
      background: #020617;
      border: 1px solid rgba(51, 65, 85, 0.9);
      border-bottom-left-radius: 4px;
      color: #e5e7eb;
    }
    body.light-mode .msg-ai {
      background: #ffffff;
      border-color: rgba(209, 213, 219, 1);
      color: #111827;
    }
    .msg-meta {
      position: absolute;
      bottom: -14px;
      right: 6px;
      font-size: 10px;
      opacity: 0.6;
    }
    .chat-input {
      border-top: 1px solid rgba(51, 65, 85, 0.9);
      padding: 8px 10px;
      display: flex;
      gap: 8px;
      align-items: center;
      background: rgba(10, 16, 32, 0.98);
    }
    body.light-mode .chat-input {
      background: rgba(243, 244, 246, 0.98);
      border-top-color: rgba(209, 213, 219, 1);
    }
    .chat-input input {
      flex: 1;
      background: rgba(15, 23, 42, 0.9);
      border-radius: 999px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      padding: 8px 12px;
      font-size: 13px;
      color: #e5e7eb;
      outline: none;
    }
    body.light-mode .chat-input input {
      background: #ffffff;
      color: #111827;
      border-color: rgba(209, 213, 219, 1);
    }
    .chat-input input::placeholder {
      color: #6b7280;
    }
    .chat-input button.send-btn {
      border: none;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 13px;
      cursor: pointer;
      background: linear-gradient(135deg, #22c55e, #38bdf8);
      color: #020617;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }
    .chat-input .icon-btn {
      padding: 8px;
      width: 32px;
      height: 32px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(51, 65, 85, 0.9);
      color: #e5e7eb;
      cursor: pointer;
      font-size: 14px;
    }
    body.light-mode .chat-input .icon-btn {
      background: #ffffff;
      border-color: rgba(209, 213, 219, 1);
      color: #111827;
    }
    .chat-input .icon-btn.active {
      border-color: #22c55e;
      box-shadow: 0 0 10px rgba(34, 197, 94, 0.7);
    }
    .voice-row {
      margin-top: 6px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 11px;
    }
    .voice-row input[type="range"] {
      flex: 1;
    }

    /* Right side */
    .section-title {
      font-size: 12px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #9ca3af;
      margin-bottom: 4px;
    }
    body.light-mode .section-title {
      color: #6b7280;
    }
    .quick-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 8px;
    }
    .quick-btn {
      border-radius: 12px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      background: rgba(15, 23, 42, 0.94);
      padding: 9px 10px;
      font-size: 12px;
      text-align: left;
      color: #e5e7eb;
      cursor: pointer;
      transition: 0.08s ease;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    body.light-mode .quick-btn {
      background: #ffffff;
      border-color: rgba(209, 213, 219, 1);
      color: #111827;
    }
    .quick-btn span {
      font-weight: 600;
    }
    .quick-btn small {
      opacity: 0.8;
      font-size: 11px;
    }
    .quick-btn:hover {
      transform: translateY(-1px);
      border-color: #38bdf8;
    }
    .right-sections {
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }
    .card {
      border-radius: 16px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      background: rgba(15, 23, 42, 0.95);
      padding: 10px 12px;
      font-size: 12px;
    }
    body.light-mode .card {
      background: #ffffff;
      border-color: rgba(209, 213, 219, 1);
      color: #111827;
    }
    .timeline {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 6px;
    }
    .timeline-item {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 8px;
      align-items: flex-start;
      cursor: pointer;
    }
    .timeline-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #38bdf8;
      margin-top: 4px;
      box-shadow: 0 0 8px rgba(56, 189, 248, 0.8);
    }
    .timeline-content {
      border-left: 1px dashed rgba(148, 163, 184, 0.7);
      padding-left: 8px;
    }
    .timeline-title {
      font-weight: 600;
      font-size: 12px;
    }
    .timeline-sub {
      font-size: 11px;
      opacity: 0.85;
    }
    .skills-wrapper { margin-top: 6px; }
    #skillsRadar { width: 100%; max-height: 210px; }
    .project-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      margin-top: 6px;
    }
    @media (max-width: 900px) {
      .project-grid { grid-template-columns: 1fr; }
    }
    .project-card {
      border-radius: 10px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 8px 9px;
      font-size: 11px;
      cursor: pointer;
      background: rgba(15, 23, 42, 0.96);
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    body.light-mode .project-card {
      background: #f9fafb;
      border-color: rgba(209, 213, 219, 1);
    }
    .project-card span { font-weight: 600; font-size: 11.5px; }
    .project-card small { opacity: 0.8; }
    .project-card:hover {
      border-color: #22c55e;
      transform: translateY(-1px);
    }
    .info-text {
      font-size: 11px;
      opacity: 0.85;
      margin-top: 4px;
    }

    .hr-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 6px;
      margin-top: 6px;
    }
    .hr-btn {
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.9);
  padding: 8px 16px;
  font-size: 12px;
  text-align: left;
  cursor: pointer;
  background: rgba(15, 23, 42, 0.98);
  color: #e5e7eb;            /* yazƒ± rengi net */
  display: flex;
  align-items: center;
}
.hr-btn:hover {
  border-color: #38bdf8;
  background: rgba(15, 23, 42, 1);
}
body.light-mode .hr-btn {
  background: #f9fafb;
  border-color: rgba(209, 213, 219, 1);
  color: #111827;            /* g√ºnd√ºz modunda koyu yazƒ± */
}


    /* Analytics panel */
    #analyticsPanel {
      position: absolute;
      right: 12px;
      bottom: 12px;
      width: 240px;
      max-height: 260px;
      overflow-y: auto;
      border-radius: 16px;
      padding: 10px 12px;
      font-size: 11px;
      background: rgba(15, 23, 42, 0.98);
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
      display: none;
      z-index: 30;
    }
    body.light-mode #analyticsPanel {
      background: rgba(255, 255, 255, 0.98);
      color: #111827;
      border-color: rgba(156, 163, 175, 1);
    }
    #analyticsPanel h3 { font-size: 12px; margin-bottom: 6px; }
    #analyticsPanel ul { list-style: none; margin-top: 4px; }
    #analyticsPanel li { margin-bottom: 2px; }
    #analyticsPanel .hint { margin-top: 6px; opacity: 0.7; }
  </style>
</head>

<body>
  <div class="app-wrapper">
    <!-- Analytics -->
    <div id="analyticsPanel">
      <h3>Ekrem Analytics</h3>
      <div><strong>Hƒ±zlƒ± Sorular:</strong></div>
      <ul id="analyticsQuick"></ul>
      <div style="margin-top:4px;"><strong>Timeline Tƒ±klamalarƒ±:</strong></div>
      <ul id="analyticsTimeline"></ul>
      <div style="margin-top:4px;"><strong>Toplam Soru:</strong> <span id="analyticsQuestions">0</span></div>
      <p class="hint">Shift + E ile paneli a√ß/kapa.</p>
    </div>

    <!-- LEFT -->
    <div class="left-panel">
      <div class="header-row">
        <div class="avatar-wrapper">
          <div class="avatar-orbit"></div>
          <div class="avatar-disc"></div>
          <div class="avatar" id="avatar">
            <img src="ekrem-avatar.png" alt="Ekrem ≈ûen avatar" />
          </div>
        </div>
        <div>
          <div class="badge">
            <span class="badge-dot"></span>
            EKREM ≈ûEN ‚Ä¢ Senior Business Analyst Team Lead / Project Manager
          </div>
          <h1>Merhaba, ben <span class="highlight">Ekrem ≈ûen</span></h1>
          <p class="subtitle">
            FinTech, sermaye piyasalarƒ±, √∂deme sistemleri ve dijital c√ºzdan alanƒ±nda √ßalƒ±≈üan
            Senior Business Analyst Team Lead / Project Manager & Product Owner hibrit profili.
          </p>
        </div>
      </div>

      <div class="mode-row">
        <div class="modes">
          <button class="mode-chip active" data-mode="default">Genel Mod</button>
          <button class="mode-chip" data-mode="interview">M√ºlakat Modu</button>
          <button class="mode-chip" data-mode="ceo">CEO √ñzeti</button>
          <button class="mode-chip" data-mode="tech">Teknik Mod</button>
        </div>
        <div class="toggle-row">
          <button class="toggle-btn small" id="xrToggle">XR Mod</button>
          <button class="toggle-btn small" id="themeToggle">Gece/G√ºnd√ºz</button>
        </div>
      </div>

      <p class="question">‚ÄúBenim hakkƒ±mda ne √∂ƒürenmek istersin?‚Äù</p>

      <div class="pill-row">
        <div class="pill">FinTech & √ñdeme Sistemleri</div>
        <div class="pill">Dijital C√ºzdan & Kart</div>
        <div class="pill">API / CRM Entegrasyonlarƒ±</div>
        <div class="pill">Agile & Scrum Takƒ±m Liderliƒüi</div>
        <div class="pill">Sermaye Piyasalarƒ± & Trading</div>
      </div>

      <div class="links-row">
        <span><a href="https://www.linkedin.com/in/ekremsen/" target="_blank">LinkedIn profilim</a></span>
        <span><a href="https://ekremsen.medium.com/" target="_blank">Medium yazƒ±larƒ±m</a></span>
      </div>

      <div class="chat-box">
        <div class="chat-messages" id="chatMessages">
          <div class="msg msg-ai">
            Bu sayfa klasik bir CV‚Äôden daha √ßok, kendimi anlattƒ±ƒüƒ±m canlƒ± bir profil gibi tasarlandƒ±.
            Saƒü taraftaki butonlara basarak kariyer hikayemi, projelerimi ve HR sorularƒ±na verdiƒüim
            hazƒ±r cevaplarƒ± hem metin olarak okuyabilir hem de sesli dinleyebilirsin.
          </div>
        </div>

        <div class="chat-input">
          <button class="icon-btn" id="voiceToggle" title="Sesle oku / kapat">üîä</button>
          <button class="icon-btn" id="micBtn" title="Sesli soru (tarayƒ±cƒ± destekliyorsa)">üé§</button>
          <input id="userInput" type="text" placeholder="Bir soru sor (√∂rn: FinTech deneyimin nedir?)" />
          <button class="send-btn" id="sendBtn">G√∂nder</button>
        </div>
      </div>

      <div class="voice-row">
        <span>Ses hƒ±zƒ±:</span>
        <input id="rateSlider" type="range" min="0.8" max="1.3" step="0.05" value="1.0" />
        <span id="rateLabel">1.0x</span>
      </div>

      <p class="info-text">
        ƒ∞pucu: ‚ÄúKendini kƒ±saca tanƒ±t‚Äù, ‚ÄúSpot D√∂viz projesini anlat‚Äù, ‚ÄúVodafone deneyimin?‚Äù
        gibi sorular sorabilir ya da direkt saƒüdaki HR sorularƒ±ndan birine tƒ±klayabilirsin.
      </p>
    </div>

    <!-- RIGHT -->
    <div class="right-panel">
      <div class="right-sections">
        <div>
          <div class="section-title">Hƒ±zlƒ± Sorular</div>
          <div class="quick-grid">
            <button class="quick-btn" data-intent="summary">
              <span>√ñzet Profil</span>
              <small>‚ÄúEkrem kimdir, ne yapar?‚Äù</small>
            </button>
            <button class="quick-btn" data-intent="gedik">
              <span>Gedik Yatƒ±rƒ±m Rol√ºm</span>
              <small>Senior Business Analyst Team Lead / Project Manager</small>
            </button>
            <button class="quick-btn" data-intent="fintech">
              <span>FinTech & √ñdeme Sistemleri</span>
              <small>Dijital c√ºzdan, kart, 6493 ve reg√ºlasyon</small>
            </button>
            <button class="quick-btn" data-intent="api">
              <span>API & Entegrasyon Deneyimi</span>
              <small>REST/SOAP, telco, kart ve CRM entegrasyonlarƒ±</small>
            </button>
            <button class="quick-btn" data-intent="experience">
              <span>Kariyer Zaman √áizelgesi</span>
              <small>BEDA≈û‚Äôtan Gedik‚Äôe uzanan yol</small>
            </button>
            <button class="quick-btn" data-intent="projects">
              <span>√ñne √áƒ±kan Projeler</span>
              <small>Spot D√∂viz, Check-Sim, Dijital C√ºzdan, CRM</small>
            </button>
            <button class="quick-btn" data-intent="learning">
              <span>Eƒüitim & Sertifikalar</span>
              <small>IIBA, IBM, UX, SQL ve diƒüerleri</small>
            </button>
            <button class="quick-btn" data-intent="hr-intro">
              <span>HR i√ßin Kendimi Tanƒ±t</span>
              <small>ƒ∞nsan kaynaklarƒ± i√ßin 1 dakikalƒ±k √∂zet</small>
            </button>
          </div>
        </div>

        <div class="card">
          <div class="section-title">Kariyer Timeline</div>
          <div class="timeline">
            <div class="timeline-item" data-timeline="gedik">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-title">2025 ‚Üí Gedik Yatƒ±rƒ±m</div>
                <div class="timeline-sub">Senior Business Analyst Team Lead / Project Manager</div>
              </div>
            </div>
            <div class="timeline-item" data-timeline="dias">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-title">2024 ‚Üí Dƒ∞AS Teknoloji</div>
                <div class="timeline-sub">Senior Expert Business Analyst</div>
              </div>
            </div>
            <div class="timeline-item" data-timeline="upt">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-title">2021 ‚Üí UPT √ñdeme Hizmetleri</div>
                <div class="timeline-sub">Expert Business Analyst</div>
              </div>
            </div>
            <div class="timeline-item" data-timeline="akbank">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-title">2018 ‚Üí Akbank</div>
                <div class="timeline-sub">Senior Business Analyst</div>
              </div>
            </div>
            <div class="timeline-item" data-timeline="vodafone">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-title">2009 ‚Üí Vodafone</div>
                <div class="timeline-sub">Quality & Process / Business Analyst</div>
              </div>
            </div>
            <div class="timeline-item" data-timeline="bedas">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-title">2005 ‚Üí BEDA≈û</div>
                <div class="timeline-sub">Hakedi≈ü Kontrol Sorumlusu</div>
              </div>
            </div>
          </div>
          <button class="hr-btn" id="storyBtn">Kariyer hikayemi story formatƒ±nda anlat</button>
        </div>

        <div class="card">
          <div class="section-title">Yetenek Haritam</div>
          <div class="skills-wrapper">
            <canvas id="skillsRadar"></canvas>
          </div>
          <p class="info-text">
            Grafikte; ƒ∞≈ü Analizi, FinTech, Entegrasyon, Scrum & Agile, Liderlik ve Veri Analizi
            alanlarƒ±ndaki g√∂reli aƒüƒ±rlƒ±klarƒ±mƒ± g√∂rebilirsin.
          </p>
        </div>

        <div class="card">
          <div class="section-title">Projelerden Se√ßmeler</div>
          <div class="project-grid">
            <div class="project-card" data-project="spot">
              <span>Spot D√∂viz & Trading</span>
              <small>Kur, tatil g√ºnleri, OTC, muhasebe ve risk kurgularƒ±.</small>
            </div>
            <div class="project-card" data-project="checksim">
              <span>Check-Sim & SIM Bloke</span>
              <small>Turatel STS, operat√∂r retry, hata kodu standardizasyonu.</small>
            </div>
            <div class="project-card" data-project="wallet">
              <span>Dijital C√ºzdan & Kart</span>
              <small>Uption Kart, Metropol POS, cashback ve KYC s√ºre√ßleri.</small>
            </div>
            <div class="project-card" data-project="crm">
              <span>CRM & Kampanya Motoru</span>
              <small>Siebel √ºr√ºn kataloƒüu, segmentasyon ve raporlama.</small>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="section-title">Sertifikalar & Uzmanlƒ±klar</div>
          <ul style="margin-left:16px; margin-top:6px; line-height:1.5;">
            <li>IIBA Fundamentals of Business Analysis</li>
            <li>IIBA CBAP Uluslararasƒ± ƒ∞≈ü Analisti Eƒüitimleri</li>
            <li>Uluslararasƒ± ƒ∞≈ü Analizi Metodolojisi ve Teknikleri</li>
            <li>Proje Y√∂netimi Uzmanlƒ±k Sertifikasƒ±</li>
            <li>Enterprise Design Thinking (IBM)</li>
            <li>UX Foundation</li>
            <li>Google Ads Apps Certification</li>
            <li>Prompt Engineering</li>
            <li>UFT One 2021.x Essentials</li>
            <li>SQL Server ile Veri Tabanƒ± Tasarƒ±mƒ±</li>
            <li>Algoritma ve Programlamaya Giri≈ü</li>
            <li>Etkili Sunum Teknikleri, ƒ∞knanƒ±n Sƒ±rlarƒ±, Zor Ki≈üilerle ƒ∞leti≈üimde Ki≈üilik Analizi</li>
          </ul>
        </div>

        <div class="card">
          <div class="section-title">HR Sorularƒ± (Hazƒ±r Cevaplar)</div>
          <p class="info-text">
            A≈üaƒüƒ±daki butonlara tƒ±klayarak klasik m√ºlakat sorularƒ±na benim aƒüzƒ±mdan
            hazƒ±rlanmƒ±≈ü cevaplarƒ± okuyabilir ve sesli dinleyebilirsin.
          </p>
          <div class="hr-grid" id="hrGrid"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ---------- GLOBAL STATE ----------
    const chatMessagesEl = document.getElementById("chatMessages");
    const userInputEl = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");
    const voiceToggleBtn = document.getElementById("voiceToggle");
    const micBtn = document.getElementById("micBtn");
    const rateSlider = document.getElementById("rateSlider");
    const rateLabel = document.getElementById("rateLabel");
    const modeChips = document.querySelectorAll(".mode-chip");
    const quickButtons = document.querySelectorAll(".quick-btn");
    const timelineItems = document.querySelectorAll(".timeline-item");
    const projectCards = document.querySelectorAll(".project-card");
    const storyBtn = document.getElementById("storyBtn");
    const themeToggle = document.getElementById("themeToggle");
    const xrToggle = document.getElementById("xrToggle");
    const analyticsPanel = document.getElementById("analyticsPanel");
    const analyticsQuickEl = document.getElementById("analyticsQuick");
    const analyticsTimelineEl = document.getElementById("analyticsTimeline");
    const analyticsQuestionsEl = document.getElementById("analyticsQuestions");
    const avatarEl = document.getElementById("avatar");
    const hrGrid = document.getElementById("hrGrid");

    let currentMode = "default";
    let voiceEnabled = true;
    let speechRate = 1.0;

    let turkishVoice = null;
    let englishVoice = null;
    let voicesInitialized = false;

    const analytics = { quick: {}, timeline: {}, questions: 0 };

    // ---------- ENGLISH DICTIONARY ----------
    const englishDictionary = new Set([
      "fintech", "api", "crm", "scrum", "agile",
      "sql", "ibm", "google", "ux", "uft",
      "fundamentals", "business", "analysis", "enterprise",
      "design", "thinking", "server", "apps", "certification",
      "prompt", "engineering", "essentials"
    ]);

    // ---------- RESPONSES ----------
    const responses = {
      summary: {
        default: `Kƒ±saca Ekrem ≈ûen: FinTech, sermaye piyasalarƒ±, dijital c√ºzdanlar ve √∂deme sistemleri tarafƒ±nda √ßalƒ±≈üan Senior Business Analyst Team Lead / Project Manager‚Äôim.

Kariyerimde BEDA≈û‚Äôta operasyon ve hakedi≈ü s√ºre√ßleriyle ba≈ülayƒ±p, Vodafone‚Äôda s√ºre√ß ve kalite analizi, Akbank‚Äôta bankacƒ±lƒ±k ve dijital kanallar, UPT‚Äôde √∂deme hizmetleri ve kart √ºr√ºnleri, Dƒ∞AS Teknoloji‚Äôde ERP ve finans projeleri, bug√ºn ise Gedik Yatƒ±rƒ±m‚Äôda trading ve dijital c√ºzdan projeleriyle devam eden bir √ßizgim var.`
      },
      gedik: {
        default: `Gedik Yatƒ±rƒ±m‚Äôda Senior Business Analyst Team Lead / Project Manager olarak √ßalƒ±≈üƒ±yorum.

Spot D√∂viz & Trading, Check-Sim, SIM altyapƒ±sƒ±, mobil uygulamalar ve CRM projelerinde hem analiz hem de proje koordinasyonu rol√ºndeyim. ƒ∞≈ü birimleriyle gereksinimi netle≈ütirip; akƒ±≈ülar, i≈ü kurallarƒ±, API kontratlarƒ±, test senaryolarƒ± ve canlƒ±ya ge√ßi≈ü s√ºre√ßlerini u√ßtan uca y√∂netiyorum.`
      },
      fintech: {
        default: `FinTech tarafƒ±nda odaklandƒ±ƒüƒ±m alanlar:

‚Ä¢ Dijital c√ºzdan ve kart √ºr√ºnleri (prepaid, sanal kart, fiziksel kart, cashback)
‚Ä¢ Sanal POS, √∂deme akƒ±≈ülarƒ±, komisyon ve √ºcretlendirme yapƒ±larƒ±
‚Ä¢ 6493 ve sermaye piyasasƒ± reg√ºlasyonlarƒ±yla uyumlu s√ºre√ß tasarƒ±mƒ±
‚Ä¢ KYC, m√º≈üteri doƒürulama ve risk/fraud kontrolleri
‚Ä¢ Sermaye piyasalarƒ±nda trading ve yatƒ±rƒ±mcƒ± deneyimini sadele≈ütiren akƒ±≈ülar.`
      },
      api: {
        default: `API ve entegrasyon tarafƒ±nda; bankacƒ±lƒ±k/trading core sistemleri, telco operat√∂rleri (Turk Telekom, Vodafone, Turkcell), Turatel STS, kart ve √∂deme altyapƒ±larƒ±, CRM ve kampanya sistemleri arasƒ±nda REST/SOAP tabanlƒ± entegrasyonlar tasarlƒ±yorum.

Postman collection‚Äôlarƒ±, swagger/OpenAPI dok√ºmanlarƒ±, JSON/XML ≈üemalarƒ± ve test datalarƒ±yla birlikte u√ßtan uca analiz ve test yakla≈üƒ±mƒ± benimsiyorum.`
      },
      experience: {
        default: `Kariyer zaman √ßizelgem √∂zetle:

‚Ä¢ BEDA≈û ‚Äì Hakedi≈ü Kontrol Sorumlusu  
‚Ä¢ Vodafone ‚Äì Quality & Process / Business Analyst  
‚Ä¢ Akbank ‚Äì Senior Business Analyst  
‚Ä¢ UPT √ñdeme Hizmetleri ‚Äì Expert Business Analyst  
‚Ä¢ Dƒ∞AS Teknoloji ‚Äì Senior Expert Business Analyst  
‚Ä¢ Gedik Yatƒ±rƒ±m ‚Äì Senior Business Analyst Team Lead / Project Manager

Her adƒ±mda; sahaya yakƒ±n operasyon, s√ºre√ß analizi, bankacƒ±lƒ±k/√∂deme sistemleri, ERP ve FinTech deneyimlerini birle≈ütiren hibrit bir profil olu≈ütu.`
      },
      projects: {
        default: `√ñne √ßƒ±kan projelerimden bazƒ±larƒ±:

‚Ä¢ Spot D√∂viz & Trading:
  ‚Äì Kur ve tatil g√ºnleri y√∂netimi, OTC entegrasyonu, muhasebe kayƒ±tlarƒ±, risk ve limit kontrolleri.

‚Ä¢ Check-Sim & SIM Bloke:
  ‚Äì Turatel STS entegrasyonu,
  ‚Äì Operat√∂r bazlƒ± retry ve hata kodu standardizasyonu,
  ‚Äì CRM ekranlarƒ±yla m√º≈üteri temsilcisi i≈ü akƒ±≈üƒ±nƒ±n sadele≈ütirilmesi.

‚Ä¢ Dijital C√ºzdan & Kart:
  ‚Äì Uption Kart, Metropol POS, cashback kampanyalarƒ±,
  ‚Äì Kurye, teslimat, kart kullanƒ±m kurallarƒ± ve KYC s√ºre√ßleri.

‚Ä¢ CRM & Kampanya Motoru:
  ‚Äì Siebel √ºr√ºn kataloƒüu, kampanya segmentleri, yetki matrisi ve performans raporlarƒ±.`
      },
      learning: {
        default: `Eƒüitim ve sertifika tarafƒ±nda; IIBA Business Analysis eƒüitimleri, Enterprise Design Thinking (IBM), UX, Google Ads Apps Certification, Prompt Engineering, UFT One, SQL Server ve ileti≈üim odaklƒ± programlarla hem teknik hem soft-skill y√∂n√ºm√º dengede tutuyorum.

Bu sayede; geli≈ütiriciyle teknik seviyede, i≈ü birimi ve y√∂netimle stratejik seviyede aynƒ± masada konu≈üabilen bir profil ortaya √ßƒ±kƒ±yor.`
      },
      hrIntro: {
        default: `ƒ∞nsan kaynaklarƒ± tarafƒ±na kendimi ≈ü√∂yle √∂zetliyorum:

Ben Ekrem ≈ûen. FinTech, sermaye piyasalarƒ± ve √∂deme sistemleri odaklƒ± √ßalƒ±≈üan Senior Business Analyst Team Lead / Project Manager‚Äôim. Analistlik kasƒ±mƒ±; ekip liderliƒüi, proje y√∂netimi ve √ºr√ºn odaklƒ± bakƒ±≈ü a√ßƒ±sƒ±yla birle≈ütiriyorum.

G√º√ßl√º y√∂nlerim; karma≈üƒ±k s√ºre√ßleri sadele≈ütirmek, payda≈ülarƒ± ortak hedefte bulu≈üturmak, reg√ºlasyon ve risk perspektifini korurken m√º≈üteri deneyimini iyile≈ütirmek.  
Beklentim; kar≈üƒ±lƒ±klƒ± g√ºvene dayalƒ±, etki odaklƒ± ve uzun vadeli bir i≈ü birliƒüi kurmak.`
      }
    };

    const hrQuestions = [
      {
        id: "q1",
        label: "Kƒ±saca kendini ve kariyerini √∂zetler misin?",
        text: `Kƒ±saca kendimi ve kariyer yolculuƒüumu √∂zetleyeyim.

Ben Ekrem ≈ûen. Kariyerime BEDA≈û‚Äôta sahaya yakƒ±n, hakedi≈ü ve operasyon s√ºre√ßlerinde ba≈ülayarak i≈üin mutfaƒüƒ±nda √ßalƒ±≈ütƒ±m. Orada hem dok√ºmantasyon disiplinini hem de sahadaki ger√ßek ihtiya√ßlarƒ± g√∂rme alƒ±≈ükanlƒ±ƒüƒ±nƒ± kazandƒ±m.

Sonrasƒ±nda Vodafone‚Äôda s√ºre√ß ve kalite analisti olarak g√∂rev aldƒ±m. √áaƒürƒ± merkezi ve backoffice s√ºre√ßlerinde m√º≈üteri deneyimini, KPI‚Äôlarƒ± ve performans takibini yakƒ±ndan tanƒ±dƒ±m.

Akbank d√∂neminde bankacƒ±lƒ±k ve √∂deme sistemleriyle tanƒ±≈ütƒ±m; dijital kanallar tarafƒ±nda u√ßtan uca i≈ü analizi yaparak finansal √ºr√ºnlerin nasƒ±l tasarlanƒ±p hayata ge√ßtiƒüini √∂ƒürendim.

UPT √ñdeme Hizmetleri‚Äônde dijital c√ºzdan, kart √ºr√ºnleri ve para transferi projeleriyle FinTech odaƒüƒ±m derinle≈üti. Dƒ∞AS Teknoloji‚Äôde ERP ve finans projeleriyle hem kurumsal sistemleri hem de s√ºre√ß tasarƒ±mƒ±nƒ± daha b√ºt√ºnc√ºl g√∂rmeye ba≈üladƒ±m.

Bug√ºn Gedik Yatƒ±rƒ±m‚Äôda Senior Business Analyst Team Lead / Project Manager olarak; trading, dijital c√ºzdan, telco entegrasyonlarƒ± ve CRM projelerinde hem analiz hem de liderlik rol√ºn√º birlikte y√ºr√ºt√ºyorum.`
      },
      {
        id: "q2",
        label: "G√º√ßl√º y√∂nlerin neler? Bir √∂rnek verir misin?",
        text: `G√º√ßl√º y√∂nlerim; karma≈üƒ±k s√ºre√ßleri sadele≈ütirme, payda≈ülarƒ± ortak bir noktada bulu≈üturma ve teknik detayla i≈ü hedefini aynƒ± anda g√∂rebilmem.

√ñrneƒüin Gedik Yatƒ±rƒ±m‚Äôdaki Spot D√∂viz projesinde; trading, muhasebe, risk, IT, operasyon ve m√º≈üteri tarafƒ±nƒ±n farklƒ± beklentilerini tek bir u√ßtan uca akƒ±≈üta topladƒ±m. Kur hesaplama, tatil g√ºnleri, OTC ve muhasebe kurgularƒ±nƒ± aynƒ± dok√ºmanda netle≈ütirdik.

Bu sayede hem geli≈ütirme ekibinin ne yapacaƒüƒ±nƒ± net g√∂rd√ºƒü√º, hem de i≈ü birimlerinin reg√ºlasyon ve risk a√ßƒ±sƒ±ndan i√ßinin rahat olduƒüu bir tasarƒ±mla canlƒ±ya √ßƒ±ktƒ±k. Sonu√ßta operasyonel hatalar azaldƒ±, kullanƒ±cƒ± ≈üikayetleri d√º≈üt√º ve ekipler arasƒ± ‚Äúbu kƒ±sƒ±m kimin sorumluluƒüu‚Äù tartƒ±≈ümalarƒ± ortadan kalktƒ±.`
      },
      {
        id: "q3",
        label: "Geli≈ütirmek istediƒüin y√∂nler neler?",
        text: `Geli≈ütirmek istediƒüim taraf, teknik derinliƒüi √ºr√ºn stratejisiyle daha da fazla birle≈ütirmek ve liderlik kasƒ±mƒ± s√ºrekli g√ºncel tutmak.

Bunun i√ßin; FinTech ve sermaye piyasalarƒ± tarafƒ±nda global case‚Äôleri ve yeni reg√ºlasyonlarƒ± d√ºzenli takip ediyorum. Medium ve LinkedIn tarafƒ±nda i√ßerik √ºreterek hem √∂ƒürendiklerimi payla≈üƒ±yor hem de kendimi zorlayarak bilgiyi derinle≈ütiriyorum.

Ayrƒ±ca ekip y√∂netimi ve ko√ßluk odaklƒ± kitaplar, eƒüitimler ve vaka incelemeleriyle liderlik tarafƒ±ma yatƒ±rƒ±m yapƒ±yorum. Hedefim; sadece iyi bir analist olmak deƒüil, ekibi ve i≈üi bir √ºst seviyeye ta≈üƒ±yan bir lider olmak.`
      },
      {
        id: "q4",
        label: "Zor payda≈ü / √ßatƒ±≈üma durumlarƒ±nƒ± nasƒ±l y√∂netirsin?",
        text: `Zor payda≈ülarla √ßalƒ±≈üƒ±rken yakla≈üƒ±mƒ±m; √∂nce anlamak, sonra √ßer√ßeveyi netle≈ütirmek ve en sonunda uzla≈ütƒ±rmak.

√ñrneƒüin bir projede i≈ü birimi kapsamƒ± s√ºrekli geni≈ületmek istiyor, IT tarafƒ± ise takvim ve kapasite nedeniyle endi≈üeliydi. √ñnce her iki tarafla ayrƒ± ayrƒ± g√∂r√º≈ü√ºp baskƒ± noktalarƒ±nƒ±, beklentileri ve kaygƒ±larƒ± netle≈ütirdim.

Ardƒ±ndan herkesin olduƒüu bir oturumda; i≈ü hedeflerini, teknik kapasiteyi ve riskleri ≈üeffaf ≈üekilde masaya koyup ‚ÄúMVP + fazlama‚Äù yakla≈üƒ±mƒ±yla ilerleme √∂nerisi sundum. ƒ∞lk fazda i≈üin ger√ßekten kritik √ßekirdeƒüini √ßƒ±kardƒ±k, kalan fonksiyonlarƒ± ise risk ve deƒüer √∂nceliƒüine g√∂re fazladƒ±k.

Sonu√ß olarak canlƒ±ya √ßƒ±kƒ±≈ü tarihi bozulmadƒ±, i≈ü birimi de t√ºm fonksiyonlarƒ± kaybetmeden kontroll√º ≈üekilde devreye alabildi. Bu tip durumlarda sakin kalmak, veriye ve ≈üeffaf ileti≈üime yaslanmak √ßatƒ±≈ümayƒ± y√∂netmemi saƒülƒ±yor.`
      },
      {
  id: "q5",
  label: "Maa≈ü beklentin ve i≈ü‚Äìya≈üam dengesi bakƒ±≈ü a√ßƒ±n nedir?",
  text: `Maa≈ü beklentim; √ºstlendiƒüim sorumluluk, yarattƒ±ƒüƒ±m etki ve piyasa ko≈üullarƒ±yla uyumlu, her iki taraf i√ßin de adalet duygusunu besleyen bir seviyede olmasƒ±.

ƒ∞≈ü‚Äìya≈üam dengesinde; kritik d√∂nemlerde ekstra efor koymaktan √ßekinmem ancak bunun s√ºrd√ºr√ºlebilir olmasƒ± i√ßin √∂nceliklerin net olmasƒ±, emeƒüin g√∂r√ºn√ºr olmasƒ± ve ekip i√ßinde y√ºk payla≈üƒ±mƒ±nƒ±n dengeli olmasƒ± gerektiƒüine inanƒ±rƒ±m.

Uzun vadede motive, √ºretken ve yaratƒ±cƒ± ekiplerin bu dengeyi koruyabilen yapƒ±larda ortaya √ßƒ±ktƒ±ƒüƒ±nƒ± d√º≈ü√ºn√ºyorum.

Net maa≈ü beklentimi ise, kar≈üƒ±lƒ±klƒ± beklentilerin ve sorumluluklarƒ±n daha net konu≈üulabildiƒüi y√ºz y√ºze veya online m√ºlakat esnasƒ±nda payla≈ümayƒ± tercih ediyorum.`
},
      {
        id: "q6",
        label: "√ñn√ºm√ºzdeki 3 yƒ±lda kendini nerede g√∂rmek istiyorsun?",
        text: `√ñn√ºm√ºzdeki 3 yƒ±lda; FinTech ve sermaye piyasalarƒ± tarafƒ±nda stratejik √ºr√ºn ve projelerde daha fazla sorumluluk almƒ±≈ü, analistlik deneyimimi liderlik ve √ºr√ºn sahipliƒüiyle birle≈ütirmi≈ü bir rolde ilerlemek istiyorum.

Hedefim; sadece analiz √ºreten deƒüil, i≈ü hedefini, teknolojiyi ve ekibi aynƒ± √ßatƒ± altƒ±nda toplayan; ≈üirketin kritik dijital projelerinde g√ºvenilen bir lider olmak.

Bunu yaparken bilgi payla≈üan, ekibini yeti≈ütiren ve kuruma kalƒ±cƒ± deƒüer bƒ±rakan bir √ßizgide kalmaya √∂nem veriyorum.`
      }
    ];

    // ---------- UTILITIES ----------
    function addMessage(sender, text, options = {}) {
      const { speak = true } = options;
      const msgEl = document.createElement("div");
      msgEl.classList.add("msg");
      msgEl.classList.add(sender === "user" ? "msg-user" : "msg-ai");

      const metaEl = document.createElement("div");
      metaEl.classList.add("msg-meta");
      const now = new Date();
      metaEl.textContent = `${sender === "user" ? "Sen" : "Ekrem"} ‚Ä¢ ${now.getHours().toString().padStart(2, "0")}:${now.getMinutes().toString().padStart(2, "0")}`;

      msgEl.appendChild(metaEl);
      chatMessagesEl.appendChild(msgEl);

      if (sender === "ai") {
        typeWriter(text, msgEl, () => {
          if (voiceEnabled && speak) speakText(text);
        });
      } else {
        msgEl.insertBefore(document.createTextNode(text), metaEl);
      }
      chatMessagesEl.scrollTop = chatMessagesEl.scrollHeight;
    }

    function typeWriter(text, container, callback) {
      let idx = 0;
      const span = document.createElement("span");
      container.insertBefore(span, container.querySelector(".msg-meta"));

      const interval = 12;
      const timer = setInterval(() => {
        span.textContent += text.charAt(idx);
        idx++;
        if (idx >= text.length) {
          clearInterval(timer);
          if (callback) callback();
        }
      }, interval);
    }

    function inferIntentFromText(text) {
      const t = text.toLowerCase();
      if (t.includes("gedik")) return "gedik";
      if (t.includes("fintech") || t.includes("√∂deme") || t.includes("c√ºzdan")) return "fintech";
      if (t.includes("api") || t.includes("entegrasyon")) return "api";
      if (t.includes("kariyer") || t.includes("tecr√ºbe") || t.includes("deneyim") || t.includes("timeline")) return "experience";
      if (t.includes("proje")) return "projects";
      if (t.includes("sertifika") || t.includes("eƒüitim")) return "learning";
      if (t.includes("hr") || t.includes("ik") || t.includes("kendini tanƒ±t") || t.includes("tanƒ±t")) return "hrIntro";
      return null;
    }

    function getResponseText(intent, mode) {
      if (!intent) {
        return `Soru i√ßin te≈üekk√ºrler. Kƒ±saca cevaplayayƒ±m; istersen saƒü taraftaki kartlardan birine tƒ±klayarak detaylƒ± bilgi de alabilirsin.`;
      }
      const data = responses[intent];
      if (!data) return "Bu konuda kƒ±sa s√ºre i√ßinde bir √∂zet hazƒ±rlayacaƒüƒ±m.";
      return data[mode] || data.default || Object.values(data)[0];
    }

    // ---------- TEXT CLEAN & TTS ----------

    function stripEmojisAndSymbols(str) {
      if (!str) return "";
      return str
        .replace(/[\u{1F300}-\u{1FAFF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]/gu, "")
        .replace(/[‚Ä¢‚óÜ‚óº‚ñ∫‚ñ™Ô∏è#*]/g, "")
        .replace(/\s{2,}/g, " ")
        .trim();
    }

    function isMostlyEnglish(text) {
      if (!text) return false;
      const words = text
        .split(/\s+/)
        .map(w => w.replace(/[.,;:!?()[\]"‚Äú‚Äù]/g, ""))
        .filter(Boolean);

      if (!words.length) return false;

      let enCount = 0;
      words.forEach(w => {
        const lower = w.toLowerCase();
        if (englishDictionary.has(lower)) {
          enCount++;
          return;
        }
        if (/^[A-Z]{2,}$/.test(w)) {
          enCount++;
          return;
        }
        if (/^[a-z]+$/.test(lower) &&
            !/[ƒ±ƒü√º≈ü√∂√ßƒ∞ƒû√ú≈û√ñ√á]/.test(lower) &&
            lower.length > 4) {
          enCount++;
        }
      });

      return enCount > 0 && enCount / words.length > 0.7;
    }

    function initVoices() {
      if (voicesInitialized || !("speechSynthesis" in window)) return;
      const vs = window.speechSynthesis.getVoices();
      if (!vs || !vs.length) return;

      function pickVoice(langPrefix) {
        const list = vs.filter(v => v.lang && v.lang.toLowerCase().startsWith(langPrefix));
        if (!list.length) return null;
        const male = list.find(v => /male|erkek|man/i.test(v.name));
        return male || list[0];
      }

      turkishVoice = pickVoice("tr");
      englishVoice = pickVoice("en");
      voicesInitialized = true;
    }

    if ("speechSynthesis" in window) {
      window.speechSynthesis.onvoiceschanged = initVoices;
      initVoices();
    }

    function setAvatarSpeaking(state) {
      if (!avatarEl) return;
      if (state) avatarEl.classList.add("avatar-speaking");
      else avatarEl.classList.remove("avatar-speaking");
    }

    function speakText(text) {
      if (!voiceEnabled || !("speechSynthesis" in window)) return;
      if (!text || !text.trim()) return;

      const clean = stripEmojisAndSymbols(text);
      if (!clean) return;

      window.speechSynthesis.cancel();
      initVoices();

      const utter = new SpeechSynthesisUtterance(clean);
      utter.rate = speechRate;
      utter.pitch = 1;

      const english = isMostlyEnglish(clean);

      if (english && englishVoice) {
        utter.voice = englishVoice;
        utter.lang = "en-US";
      } else if (turkishVoice) {
        utter.voice = turkishVoice;
        utter.lang = "tr-TR";
      } else {
        utter.lang = english ? "en-US" : "tr-TR";
      }

      utter.onstart = () => setAvatarSpeaking(true);
      utter.onend = () => setAvatarSpeaking(false);

      try {
        window.speechSynthesis.speak(utter);
      } catch {
        setAvatarSpeaking(false);
      }
    }

    // ---------- ANALYTICS ----------
    function incQuickAnalytics(key) {
      analytics.quick[key] = (analytics.quick[key] || 0) + 1;
      renderAnalytics();
    }
    function incTimelineAnalytics(key) {
      analytics.timeline[key] = (analytics.timeline[key] || 0) + 1;
      renderAnalytics();
    }
    function incQuestionCount() {
      analytics.questions += 1;
      renderAnalytics();
    }
    function renderAnalytics() {
      analyticsQuickEl.innerHTML = "";
      Object.entries(analytics.quick).forEach(([k, v]) => {
        const li = document.createElement("li");
        li.textContent = `${k}: ${v} kez`;
        analyticsQuickEl.appendChild(li);
      });

      analyticsTimelineEl.innerHTML = "";
      Object.entries(analytics.timeline).forEach(([k, v]) => {
        const li = document.createElement("li");
        li.textContent = `${k}: ${v} tƒ±klama`;
        analyticsTimelineEl.appendChild(li);
      });

      analyticsQuestionsEl.textContent = analytics.questions.toString();
    }

    // ---------- EVENTS ----------
    sendBtn.addEventListener("click", () => {
      const text = userInputEl.value.trim();
      if (!text) return;
      userInputEl.value = "";
      addMessage("user", text, { speak: false });
      incQuestionCount();

      const intent = inferIntentFromText(text);
      const reply = getResponseText(intent, currentMode);
      addMessage("ai", reply);
    });

    userInputEl.addEventListener("keydown", (e) => {
      if (e.key === "Enter") sendBtn.click();
    });

    modeChips.forEach(chip => {
      chip.addEventListener("click", () => {
        modeChips.forEach(c => c.classList.remove("active"));
        chip.classList.add("active");
        currentMode = chip.dataset.mode || "default";

        let text = "";
        if (currentMode === "default") {
          text = "Genel modda, dengeli ve a√ßƒ±klayƒ±cƒ± bir tonda cevap veriyorum.";
        } else if (currentMode === "interview") {
          text = "M√ºlakat modunda, cevaplarƒ±mƒ± daha √ßok HR ve m√ºlakat bakƒ±≈ü a√ßƒ±sƒ±yla kurguluyorum.";
        } else if (currentMode === "ceo") {
          text = "CEO √∂zeti modunda, cevaplarƒ± daha kƒ±sa, net ve etki odaklƒ± tutacaƒüƒ±m.";
        } else if (currentMode === "tech") {
          text = "Teknik modda, entegrasyon ve teknik detaylara daha fazla odaklanƒ±yorum.";
        }
        addMessage("ai", text);
      });
    });

    quickButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const intentKey = btn.dataset.intent === "hr-intro" ? "hrIntro" : btn.dataset.intent;
        const label = btn.querySelector("span")?.textContent || intentKey;
        incQuickAnalytics(label);
        const reply = getResponseText(intentKey, currentMode);
        addMessage("ai", reply);
      });
    });

    timelineItems.forEach(item => {
      item.addEventListener("click", () => {
        const key = item.dataset.timeline;
        let text = "";
        switch (key) {
          case "gedik":
            text = `Gedik Yatƒ±rƒ±m d√∂nemimde; Spot D√∂viz & Trading, Check-Sim, SMS altyapƒ±sƒ±, mobil uygulama ve CRM projelerinde hem analistlik hem proje y√∂netimi rol√ºn√º birlikte y√ºr√ºt√ºyorum.`;
            break;
          case "dias":
            text = `Dƒ∞AS Teknoloji tarafƒ±nda; ERP entegrasyonlarƒ±, finansal sistemler ve s√ºre√ß tasarƒ±mƒ± odaklƒ± yazƒ±lƒ±m projelerinde Senior Expert Business Analyst olarak g√∂rev aldƒ±m.`;
            break;
          case "upt":
            text = `UPT √ñdeme Hizmetleri‚Äônde; dijital c√ºzdan, kart √ºr√ºnleri, Metropol POS ve uluslararasƒ± para transferi projeleriyle √∂deme hizmetleri tarafƒ±nda derinlik kazandƒ±m.`;
            break;
          case "akbank":
            text = `Akbank‚Äôta, dijital kanallar ve √∂deme sistemleri tarafƒ±nda Senior Business Analyst olarak √ßalƒ±≈ütƒ±m; √∂zellikle s√ºre√ß iyile≈ütirme ve entegrasyon projelerine odaklandƒ±m.`;
            break;
          case "vodafone":
            text = `Vodafone d√∂neminde; √ßaƒürƒ± merkezi ve backoffice s√ºre√ßlerinde kalite, performans ve raporlama odaklƒ± Quality & Process / Business Analyst rol√ºn√º √ºstlendim.`;
            break;
          case "bedas":
            text = `Kariyerimin ba≈ülangƒ±cƒ±nda BEDA≈û‚Äôta; hakedi≈ü kontrol s√ºre√ßlerinde √ßalƒ±≈üarak saha operasyonu, s√∂zle≈üme ve hakedi≈ü y√∂netimi tarafƒ±nda g√º√ßl√º bir operasyonel bakƒ±≈ü a√ßƒ±sƒ± edindim.`;
            break;
        }
        const label = item.querySelector(".timeline-title").textContent;
        incTimelineAnalytics(label);
        addMessage("ai", text);
      });
    });

    projectCards.forEach(card => {
      card.addEventListener("click", () => {
        const key = card.dataset.project;
        let text = "";
        if (key === "spot") {
          text = `Spot D√∂viz & Trading projesinde; kur ve tatil g√ºnleri y√∂netimi, OTC entegrasyonu, muhasebe kayƒ±tlarƒ± ve risk/limit kontrollerini u√ßtan uca modelledim. Hem mobil uygulama hem de arka ofis tarafƒ±nda kullanƒ±cƒ± deneyimini sadele≈ütiren bir yapƒ± kurguladƒ±k.`;
        } else if (key === "checksim") {
          text = `Check-Sim projesinde; Turatel STS entegrasyonu, operat√∂r bazlƒ± retry mekanizmasƒ±, hata kodu standardizasyonu ve CRM ekranlarƒ±yla m√º≈üteri temsilcisi deneyimini sadele≈ütiren u√ßtan uca bir akƒ±≈ü tasarladƒ±m.`;
        } else if (key === "wallet") {
          text = `Dijital c√ºzdan & kart tarafƒ±nda; Uption Kart, Metropol POS, cashback kampanyalarƒ±, kurye ve teslimat akƒ±≈ülarƒ± ile KYC s√ºre√ßlerini bir arada ele alan u√ßtan uca m√º≈üteri yolculuƒüu tasarladƒ±m.`;
        } else if (key === "crm") {
          text = `CRM & kampanya motoru projelerinde; Siebel √ºr√ºn kataloƒüu, segmentasyon, yetki matrisi ve kampanyalarƒ±n performans raporlamasƒ± √ºzerinde √ßalƒ±≈ütƒ±m.`;
        }
        addMessage("ai", text);
      });
    });

    storyBtn.addEventListener("click", () => {
      const text = `Kariyer hikayemi kƒ±sa bir story formatƒ±nda anlatayƒ±m:

‚Ä¢ BEDA≈û‚Äôta hakedi≈ü ve saha operasyonuyla ba≈ülayarak i≈üin mutfaƒüƒ±nƒ± √∂ƒürendim.  
‚Ä¢ Vodafone‚Äôda s√ºre√ß ve kalite analiziyle m√º≈üteri temas noktalarƒ±nƒ± ve KPI d√ºnyasƒ±nƒ± tanƒ±dƒ±m.  
‚Ä¢ Akbank d√∂neminde bankacƒ±lƒ±k ve √∂deme sistemleriyle tanƒ±≈üƒ±p dijital kanallar tarafƒ±nda √ßalƒ±≈ütƒ±m.  
‚Ä¢ UPT √ñdeme Hizmetleri‚Äônde dijital c√ºzdan, kart √ºr√ºnleri ve para transferi projeleriyle FinTech odaƒüƒ±m g√º√ßlendi.  
‚Ä¢ Dƒ∞AS Teknoloji‚Äôde ERP ve finans projeleriyle u√ßtan uca s√ºre√ß tasarƒ±mƒ± deneyimi kazandƒ±m.  
‚Ä¢ Bug√ºn Gedik Yatƒ±rƒ±m‚Äôda; trading, dijital c√ºzdan, telco entegrasyonlarƒ± ve CRM projelerini y√∂neten Senior Business Analyst Team Lead / Project Manager olarak t√ºm bu deneyimi tek √ßatƒ± altƒ±nda birle≈ütiriyorum.`;
      addMessage("ai", text);
    });

    themeToggle.addEventListener("click", () => {
      document.body.classList.toggle("light-mode");
    });

    xrToggle.addEventListener("click", () => {
      document.body.classList.toggle("xr-mode");
      xrToggle.classList.toggle("active");
    });

    voiceToggleBtn.addEventListener("click", () => {
      voiceEnabled = !voiceEnabled;
      voiceToggleBtn.classList.toggle("active", voiceEnabled);
      if (!voiceEnabled && "speechSynthesis" in window) {
        window.speechSynthesis.cancel();
        setAvatarSpeaking(false);
      }
    });

    rateSlider.addEventListener("input", () => {
      speechRate = parseFloat(rateSlider.value);
      rateLabel.textContent = speechRate.toFixed(2) + "x";
    });

    if ("webkitSpeechRecognition" in window || "SpeechRecognition" in window) {
      const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
      const recognizer = new SR();
      recognizer.lang = "tr-TR";
      recognizer.continuous = false;
      recognizer.interimResults = false;

      micBtn.addEventListener("click", () => {
        recognizer.start();
        micBtn.classList.add("active");
      });

      recognizer.onresult = (e) => {
        const text = e.results[0][0].transcript;
        userInputEl.value = text;
        micBtn.classList.remove("active");
      };
      recognizer.onend = () => micBtn.classList.remove("active");
    } else {
      micBtn.style.display = "none";
    }

    document.addEventListener("keydown", (e) => {
      if (e.shiftKey && e.key.toLowerCase() === "e") {
        analyticsPanel.style.display =
          analyticsPanel.style.display === "block" ? "none" : "block";
      }
    });

    // ---------- HR BUTTONS ----------
    hrQuestions.forEach(q => {
      const btn = document.createElement("button");
      btn.className = "hr-btn";
      btn.textContent = q.label;
      btn.dataset.id = q.id;
      btn.addEventListener("click", () => {
        addMessage("ai", q.text);
      });
      hrGrid.appendChild(btn);
    });

    // ---------- RADAR CHART ----------
    const ctx = document.getElementById("skillsRadar").getContext("2d");
    new Chart(ctx, {
      type: "radar",
      data: {
        labels: ["ƒ∞≈ü Analizi", "FinTech", "Entegrasyon", "Scrum & Agile", "Liderlik", "Veri Analizi"],
        datasets: [{
          label: "Ekrem ≈ûen",
          data: [95, 90, 92, 88, 87, 80],
          fill: true,
          borderWidth: 2
        }]
      },
      options: {
        plugins: { legend: { display: false } },
        scales: {
          r: {
            beginAtZero: true,
            suggestedMax: 100,
            angleLines: { color: "rgba(148, 163, 184, 0.4)" },
            grid: { color: "rgba(55, 65, 81, 0.6)" },
            pointLabels: { color: "#e5e7eb", font: { size: 11 } },
            ticks: { display: false }
          }
        }
      }
    });
  </script>
</body>
</html>

